# 项目需求文档 (Project Requirements Document - RPD)

## 1. 背景
- **初始状态**: 存在一个基于 Electron, Vite, React, TypeScript 的旧项目原型。
- **问题**: 旧原型因多次迭代导致代码质量低下，存在模块规范不一 (CJS/ESM混用)、依赖混乱、代码冗余、文档缺失及可维护性差等问题。
- **决策**: 废弃旧有代码库，根据本需求文档，**从零开始构建一个全新的、高质量的桌面应用程序**。

## 2. 核心目标
- **目标**: 构建一个集成了系统代理、LLM 对话、开发环境一键部署和高度可定制化设置的现代化桌面工具。
- **角色定位**: 执行者是一位资深全栈工程师，负责从零到一完成整个应用的开发。

## 3. 功能性需求 (Functional Requirements)

### 3.1. 核心功能
- **概述**: 最终交付物是一个功能完备的桌面应用，具备以下核心模块：
    1.  **配置管理模块**: 实现用户敏感信息（如 VPN 提供商 URL、LLM API Keys）的本地安全存储、结构化导入/导出（JSON格式）。
    2.  **系统代理模块**: 通过调用 `mihomo` 核心，实现系统级网络代理。必须支持 `TUN` 模式、代理组切换以及自定义规则的配置。
    3.  **LLM 对话模块**: 提供一个类似 Google AI Studio 的对话界面。必须支持模型切换、Prompt 输入以及核心参数（如 `temperature`, `top-p`, `top-k`）的实时调整。
    4.  **开发工具部署模块**: 提供一键式安装常见开发工具的功能，包括 IDEs (VSCode, JetBrains IDEs) 和开发环境 (JDK, Node.js, Python, GCC, LLVM, Anaconda)。

### 3.2. UI/UX 需求
- **布局**: 采用侧边栏导航布局。
- **设计**: 遵循现代UI设计规范，元素（如卡片、按钮）使用圆角和阴影以创造层次感。
- **主题**: 内置明、暗两种主题模式，支持一键切换。所有UI元素必须在两种模式下都保持清晰的色彩对比度。
- **动画**: 在用户交互（如视图切换、元素加载）时，加入流畅、无侵扰的动画效果。
- **详细规范**: 请参考 [UI 需求文档](./ui_RPD.md) 获取完整的 UI/UX 设计规范和要求。

## 4. 非功能性需求 (Non-Functional Requirements)

### 4.1. 技术栈与环境
- **运行环境**: Node.js `v18.x` 或更高版本。
- **应用框架**: Electron
- **前端框架**: React
- **编程语言**: TypeScript
- **模块系统**: **必须**统一采用 **ESM (ECMAScript Modules)** 标准。
- **UI 库**: MUI
- **样式方案**: Styled-components
- **动画库**: Framer Motion
- **HTTP客户端**: axios
- **包管理器**: pnpm

### 4.2. 代码质量与规范
- **注释**: 所有模块、函数、复杂逻辑必须有清晰的 JSDoc 注释。
- **命名**: 变量、函数、类、文件等必须采用统一、清晰的命名规范。
- **代码风格**: 严格遵循 Prettier 和 ESLint 的规范。
- **目录结构**: 严格遵循 `DIRECTORY_STRUCTURE.md` 中定义的结构。

## 5. 开发与交付规则
- **禁止项**: **严禁**参考、使用或读取任何旧项目的代码、文档或配置文件。所有开发工作必须基于本文档和相关的规划文件 (`PROJECT_DESCRIPTION.md`, `DIRECTORY_STRUCTURE.md`)。
- **接口设计**: 所有模块间、进程间的接口设计必须保持一致性。
- **文档**: 最终交付物必须包含完整的技术文档，解释项目的架构、模块功能和部署方法。